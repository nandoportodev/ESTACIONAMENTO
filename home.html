<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TainhaBeer - Consulta de Cervejas</title>
</head>
<body>
    <h1>Consultar Cervejas</h1>
    
    <!-- Formulário para buscar cerveja por nome -->
    <form id="buscarPorNomeForm">
        <label for="nome">Buscar por Nome:</label>
        <input type="text" id="nome" name="nome">
        <button type="submit">Buscar</button>
    </form>
    
    <!-- Formulário para buscar cervejas por nacionalidade -->
    <form id="buscarPorNacionalidadeForm">
        <label for="nacionalidade">Buscar por Nacionalidade:</label>
        <input type="text" id="nacionalidade" name="nacionalidade">
        <button type="submit">Buscar</button>
    </form>
    
    <!-- Formulário para ordenar cervejas por ABV -->
    <form id="ordenarPorABVForm">
        <button type="submit">Ordenar por ABV</button>
    </form>
    
    <!-- Formulário para buscar cervejas por tipo -->
    <form id="buscarPorTipoForm">
        <label for="tipo">Buscar por Tipo:</label>
        <input type="text" id="tipo" name="tipo">
        <button type="submit">Buscar</button>
    </form>
    
    <!-- Formulário para buscar cervejas por nome parcial -->
    <form id="buscarPorNomeParcialForm">
        <label for="nomeParcial">Buscar por Nome Parcial:</label>
        <input type="text" id="nomeParcial" name="nomeParcial">
        <button type="submit">Buscar</button>
    </form>
    
    <!-- Div para exibir resultados das consultas -->
    <div id="resultado"></div>
    
    <script>
        // Função para enviar requisição AJAX ao servidor
        function enviarRequisicao(url, params) {
            fetch(url, params)
                .then(response => response.json())
                .then(data => {
                    // Exibir os resultados no elemento 'resultado'
                    document.getElementById("resultado").innerHTML = JSON.stringify(data, null, 2);
                })
                .catch(error => console.error('Erro ao enviar requisição:', error));
        }
        
        // Event listener para o formulário de busca por nome
        document.getElementById("buscarPorNomeForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const nome = document.getElementById("nome").value;
            const url = `/cervejas/buscar-por-nome?nome=${nome}`;
            enviarRequisicao(url, { method: 'GET' });
        });
        
        // Event listener para o formulário de busca por nacionalidade
        document.getElementById("buscarPorNacionalidadeForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const nacionalidade = document.getElementById("nacionalidade").value;
            const url = `/cervejas/buscar-por-nacionalidade?nacionalidade=${nacionalidade}`;
            enviarRequisicao(url, { method: 'GET' });
        });
        
        // Event listener para o formulário de ordenação por ABV
        document.getElementById("ordenarPorABVForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const url = `/cervejas/ordenar-por-abv`;
            enviarRequisicao(url, { method: 'GET' });
        });
        
        // Event listener para o formulário de busca por tipo
        document.getElementById("buscarPorTipoForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const tipo = document.getElementById("tipo").value;
            const url = `/cervejas/buscar-por-tipo?tipo=${tipo}`;
            enviarRequisicao(url, { method: 'GET' });
        });
        
        // Event listener para o formulário de busca por nome parcial
        document.getElementById("buscarPorNomeParcialForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const nomeParcial = document.getElementById("nomeParcial").value;
            const url = `/cervejas/buscar-por-nome-parcial?nomeParcial=${nomeParcial}`;
            enviarRequisicao(url, { method: 'GET' });
        });
    </script>
</body>
</html>
